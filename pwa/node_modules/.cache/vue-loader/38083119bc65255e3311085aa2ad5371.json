{"remainingRequest":"/Users/ale/Documents/Bachproef/pwa-3/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ale/Documents/Bachproef/pwa-3/src/views/Update.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/ale/Documents/Bachproef/pwa-3/src/views/Update.vue","mtime":1556441424035},{"path":"/Users/ale/Documents/Bachproef/pwa-3/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/ale/Documents/Bachproef/pwa-3/node_modules/vuetify-loader/lib/loader.js","mtime":1549812933000},{"path":"/Users/ale/Documents/Bachproef/pwa-3/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ale/Documents/Bachproef/pwa-3/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\texport default {\n\t\tname: \"Update\",\n\t\tdata()\n\t\t{\n\t\t\treturn {\n\t\t\t\tservice_worker: null\n\t\t\t}\n\t\t},\n\t\tcomputed: {},\n\t\tcreated()\n\t\t{\n\t\t\tconsole.log(\"Creating Update, \", window.location.pathname);\n\t\t\twindow.location = window.location.href;\n\t\t\tthis.install_sw();\n\n\t\t\tsetTimeout(\n\t\t\t() =>\n\t\t\t{\n\t\t\t\tlet img = document.createElement(\"img\");\n\t\t\t\timg.src = \"/img/horse.jpg\";\n\t\t\t\timg.style = \"max-width: 500px; max-height: 500px;\";\n\t\t\t\tif (document.getElementById('imgElement'))\n\t\t\t\t{\n\t\t\t\t\tdocument.getElementById('imgElement')\n\t\t\t\t\t        .appendChild(img);\n\t\t\t\t}\n\t\t\t}, 3000);\n\t\t},\n\t\tmethods:\n\t\t{\n\t\t\tinstall_sw()\n\t\t\t{\n\t\t\t\tconst pathName = window.location.pathname;\n\t\t\t\tconsole.log(pathName);\n\t\t\t\tif (pathName === '/')\n\t\t\t\t\treturn;\n\n\t\t\t\tlet swName;\n\t\t\t\tif (pathName === '/update-without-skip-and-claim')\n\t\t\t\t{\n\t\t\t\t\tswName = '/sw-without-skip-and-claim.js';\n\t\t\t\t} else if (pathName === '/update-with-skip-no-claim')\n\t\t\t\t{\n\t\t\t\t\tswName = '/sw-with-skip-no-claim.js';\n\t\t\t\t} else if (pathName === '/update-with-skip-and-claim')\n\t\t\t\t{\n\t\t\t\t\tswName = '/sw-with-skip-and-claim.js';\n\t\t\t\t}\n\n\t\t\t\twindow.addEventListener(\n\t\t\t\t'load',\n\t\t\t\tasync () =>\n\t\t\t\t{\n\t\t\t\t\tnavigator\n\t\t\t\t\t.serviceWorker\n\t\t\t\t\t.register(swName, {scope: pathName})\n\t\t\t\t\t.then((registration) =>\n\t\t\t\t\t      {\n                              this.registration = registration;\n\t\t\t\t\t\t      console.log('SW UPDATE_DEMO OK: ', registration.scope);\n\t\t\t\t\t      },\n\t\t\t\t\t      (err) => { console.log('SW UPDATE_DEMO FAILED: ', err); })\n\t\t\t\t\t.then(() =>\n\t\t\t\t\t      {\n\t\t\t\t\t\t      console.log('SW READY', pathName);\n\t\t\t\t\t\t      this.service_worker = navigator.serviceWorker;\n\t\t\t\t\t\t      return navigator.serviceWorker.ready;\n\t\t\t\t\t      });\n\t\t\t\t});\n\t\t\t},\n\t\t\tunregister_sw()\n\t\t\t{\n\t\t\t\tthis.registration.unregister()\n\t\t\t\t    .then(() =>\n\t\t\t\t          {\n                            console.log(\"Unregister\");\n\t\t\t\t          });\n\t\t\t},\n\t\t\trequest_from_sw()\n\t\t\t{\n\t\t\t\tlet request = new Request(\"https://localhost:8080/sw.js\");\n\t\t\t\tconst requestOptions = {method: 'GET'};\n\t\t\t\treturn fetch(request, requestOptions)\n\t\t\t\t.then((response) =>\n\t\t\t\t      {\n\t\t\t\t\t      return {\n\t\t\t\t\t\t      request: request,\n\t\t\t\t\t\t      response: response\n\t\t\t\t\t      };\n\t\t\t\t      })\n\t\t\t\t.catch(error =>\n\t\t\t\t       {\n\t\t\t\t\t       console.error(error);\n\t\t\t\t\t       console.error(JSON.stringify(error));\n\t\t\t\t\t       return {\n\t\t\t\t\t\t       request: request,\n\t\t\t\t\t\t       response: response\n\t\t\t\t\t       };\n\t\t\t\t       });\n\t\t\t},\n\t\t\tsend_new_sw()\n\t\t\t{\n\t\t\t\tthis.$emit('updateRequest');\n\t\t\t\t// this.newWorker.postMessage({action: 'skipWaiting'});\n\t\t\t},\n\t\t}\n\t}\n",{"version":3,"sources":["Update.vue"],"names":[],"mappings":";;;;;;;;;;;;;;AAcA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Update.vue","sourceRoot":"src/views","sourcesContent":["<template>\n    <div>\n        <a style=\"\"\n           v-on:click=\"request_from_sw()\">REQUEST\n        </a>\n        <br>\n        <a style=\"\"\n           v-on:click=\"unregister_sw()\">UNREGISTER\n        </a>\n        <div id=\"imgElement\"></div>\n    </div>\n</template>\n\n<script>\n\texport default {\n\t\tname: \"Update\",\n\t\tdata()\n\t\t{\n\t\t\treturn {\n\t\t\t\tservice_worker: null\n\t\t\t}\n\t\t},\n\t\tcomputed: {},\n\t\tcreated()\n\t\t{\n\t\t\tconsole.log(\"Creating Update, \", window.location.pathname);\n\t\t\twindow.location = window.location.href;\n\t\t\tthis.install_sw();\n\n\t\t\tsetTimeout(\n\t\t\t() =>\n\t\t\t{\n\t\t\t\tlet img = document.createElement(\"img\");\n\t\t\t\timg.src = \"/img/horse.jpg\";\n\t\t\t\timg.style = \"max-width: 500px; max-height: 500px;\";\n\t\t\t\tif (document.getElementById('imgElement'))\n\t\t\t\t{\n\t\t\t\t\tdocument.getElementById('imgElement')\n\t\t\t\t\t        .appendChild(img);\n\t\t\t\t}\n\t\t\t}, 3000);\n\t\t},\n\t\tmethods:\n\t\t{\n\t\t\tinstall_sw()\n\t\t\t{\n\t\t\t\tconst pathName = window.location.pathname;\n\t\t\t\tconsole.log(pathName);\n\t\t\t\tif (pathName === '/')\n\t\t\t\t\treturn;\n\n\t\t\t\tlet swName;\n\t\t\t\tif (pathName === '/update-without-skip-and-claim')\n\t\t\t\t{\n\t\t\t\t\tswName = '/sw-without-skip-and-claim.js';\n\t\t\t\t} else if (pathName === '/update-with-skip-no-claim')\n\t\t\t\t{\n\t\t\t\t\tswName = '/sw-with-skip-no-claim.js';\n\t\t\t\t} else if (pathName === '/update-with-skip-and-claim')\n\t\t\t\t{\n\t\t\t\t\tswName = '/sw-with-skip-and-claim.js';\n\t\t\t\t}\n\n\t\t\t\twindow.addEventListener(\n\t\t\t\t'load',\n\t\t\t\tasync () =>\n\t\t\t\t{\n\t\t\t\t\tnavigator\n\t\t\t\t\t.serviceWorker\n\t\t\t\t\t.register(swName, {scope: pathName})\n\t\t\t\t\t.then((registration) =>\n\t\t\t\t\t      {\n                              this.registration = registration;\n\t\t\t\t\t\t      console.log('SW UPDATE_DEMO OK: ', registration.scope);\n\t\t\t\t\t      },\n\t\t\t\t\t      (err) => { console.log('SW UPDATE_DEMO FAILED: ', err); })\n\t\t\t\t\t.then(() =>\n\t\t\t\t\t      {\n\t\t\t\t\t\t      console.log('SW READY', pathName);\n\t\t\t\t\t\t      this.service_worker = navigator.serviceWorker;\n\t\t\t\t\t\t      return navigator.serviceWorker.ready;\n\t\t\t\t\t      });\n\t\t\t\t});\n\t\t\t},\n\t\t\tunregister_sw()\n\t\t\t{\n\t\t\t\tthis.registration.unregister()\n\t\t\t\t    .then(() =>\n\t\t\t\t          {\n                            console.log(\"Unregister\");\n\t\t\t\t          });\n\t\t\t},\n\t\t\trequest_from_sw()\n\t\t\t{\n\t\t\t\tlet request = new Request(\"https://localhost:8080/sw.js\");\n\t\t\t\tconst requestOptions = {method: 'GET'};\n\t\t\t\treturn fetch(request, requestOptions)\n\t\t\t\t.then((response) =>\n\t\t\t\t      {\n\t\t\t\t\t      return {\n\t\t\t\t\t\t      request: request,\n\t\t\t\t\t\t      response: response\n\t\t\t\t\t      };\n\t\t\t\t      })\n\t\t\t\t.catch(error =>\n\t\t\t\t       {\n\t\t\t\t\t       console.error(error);\n\t\t\t\t\t       console.error(JSON.stringify(error));\n\t\t\t\t\t       return {\n\t\t\t\t\t\t       request: request,\n\t\t\t\t\t\t       response: response\n\t\t\t\t\t       };\n\t\t\t\t       });\n\t\t\t},\n\t\t\tsend_new_sw()\n\t\t\t{\n\t\t\t\tthis.$emit('updateRequest');\n\t\t\t\t// this.newWorker.postMessage({action: 'skipWaiting'});\n\t\t\t},\n\t\t}\n\t}\n</script>\n\n<style scoped>\n\n</style>\n"]}]}