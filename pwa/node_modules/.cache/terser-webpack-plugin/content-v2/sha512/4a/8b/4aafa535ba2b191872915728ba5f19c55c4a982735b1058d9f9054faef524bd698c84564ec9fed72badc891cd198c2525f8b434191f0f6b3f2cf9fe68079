{"map":"{\"version\":3,\"sources\":[\"/Users/ale/Documents/Bachproef/pwa-3/node_modules/cache-loader/dist/cjs.js?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"432a83d8-vue-loader-template\\\"}!/Users/ale/Documents/Bachproef/pwa-3/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!/Users/ale/Documents/Bachproef/pwa-3/node_modules/vuetify-loader/lib/loader.js!/Users/ale/Documents/Bachproef/pwa-3/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/ale/Documents/Bachproef/pwa-3/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ale/Documents/Bachproef/pwa-3/src/views/Update.vue?vue&type=template&id=145f53f0&scoped=true&\",\"src/views/Update.vue\",\"/Users/ale/Documents/Bachproef/pwa-3/node_modules/vue-loader/lib/loaders/pitcher.js??ref--0!/Users/ale/Documents/Bachproef/pwa-3/node_modules/cache-loader/dist/cjs.js??ref--12-0!/Users/ale/Documents/Bachproef/pwa-3/node_modules/thread-loader/dist/cjs.js!/Users/ale/Documents/Bachproef/pwa-3/node_modules/babel-loader/lib/index.js!/Users/ale/Documents/Bachproef/pwa-3/node_modules/vuetify-loader/lib/loader.js!/Users/ale/Documents/Bachproef/pwa-3/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/ale/Documents/Bachproef/pwa-3/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ale/Documents/Bachproef/pwa-3/src/views/Update.vue?vue&type=script&lang=js&\",\"/Users/ale/Documents/Bachproef/pwa-3/node_modules/vuetify-loader/lib/loader.js!/Users/ale/Documents/Bachproef/pwa-3/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/ale/Documents/Bachproef/pwa-3/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ale/Documents/Bachproef/pwa-3/src/views/Update.vue\"],\"names\":[\"render\",\"_vm\",\"this\",\"_h\",\"$createElement\",\"_c\",\"_self\",\"_v\",\"_s\",\"pageTitle\",\"update\",\"on\",\"click\",\"$event\",\"request_from_sw\",\"unregister_sw\",\"_m\",\"staticRenderFns\",\"staticStyle\",\"display\",\"max-height\",\"max-width\",\"attrs\",\"src\",\"id\",\"Updatevue_type_script_lang_js_\",\"name\",\"data\",\"service_worker\",\"newWorker\",\"swName\",\"lf\",\"firebaseToken\",\"computed\",\"created\",\"console\",\"log\",\"window\",\"location\",\"pathname\",\"install_sw\",\"setTimeout\",\"img\",\"document\",\"createElement\",\"style\",\"getElementById\",\"appendChild\",\"methods\",\"_install_sw\",\"Object\",\"asyncToGenerator\",\"regeneratorRuntime\",\"mark\",\"_callee\",\"pathName\",\"key\",\"_this\",\"wrap\",\"_context\",\"prev\",\"next\",\"abrupt\",\"getItem\",\"sent\",\"setItem\",\"navigator\",\"serviceWorker\",\"register\",\"scope\",\"then\",\"registration\",\"err\",\"stop\",\"apply\",\"arguments\",\"_notifyUpdate\",\"_updateListener\",\"_this2\",\"waiting\",\"active\",\"addEventListener\",\"installing\",\"state\",\"controller\",\"unregister\",\"_this3\",\"request\",\"Request\",\"concat\",\"requestOptions\",\"method\",\"fetch\",\"response\",\"ready\",\"catch\",\"error\",\"stringify_default\",\"send_new_sw\",\"$emit\",\"_navigateTo\",\"url\",\"views_Updatevue_type_script_lang_js_\",\"component\",\"componentNormalizer\",\"__webpack_exports__\"],\"mappings\":\"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\",\"sourcesContent\":[\"var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h1',[_vm._v(_vm._s(_vm.pageTitle))]),_c('h2',[_vm._v(\\\"Update available: \\\"+_vm._s(_vm.update))]),_c('a',{on:{\\\"click\\\":function($event){return _vm.request_from_sw()}}},[_vm._v(\\\"REQUEST\\\\n    \\\")]),_c('br'),_c('a',{on:{\\\"click\\\":function($event){return _vm.unregister_sw()}}},[_vm._v(\\\"UNREGISTER\\\\n    \\\")]),_vm._m(0)])}\\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\\\"display\\\":\\\"block\\\"}},[_c('img',{staticStyle:{\\\"display\\\":\\\"inline-block\\\",\\\"max-height\\\":\\\"500px\\\",\\\"max-width\\\":\\\"50%\\\"},attrs:{\\\"src\\\":\\\"/img/horse.png\\\"}}),_c('div',{staticStyle:{\\\"display\\\":\\\"inline-block\\\",\\\"max-height\\\":\\\"500px\\\",\\\"max-width\\\":\\\"50%\\\"},attrs:{\\\"id\\\":\\\"imgElement\\\"}})])}]\\n\\nexport { render, staticRenderFns }\",\"<template>\\n    <div>\\n        <h1>{{ pageTitle }}</h1>\\n        <h2>Update available: {{update}}</h2>\\n        <a style=\\\"\\\"\\n           v-on:click=\\\"request_from_sw()\\\">REQUEST\\n        </a>\\n        <br>\\n        <a style=\\\"\\\"\\n           v-on:click=\\\"unregister_sw()\\\">UNREGISTER\\n        </a>\\n        <div style=\\\"display:block;\\\">\\n\\n            <img src=\\\"/img/horse.png\\\"\\n                 style=\\\"display:inline-block; max-height: 500px; max-width: 50%;\\\">\\n            <div id=\\\"imgElement\\\"\\n                 style=\\\"display:inline-block; max-height: 500px; max-width: 50%;\\\"></div>\\n        </div>\\n    </div>\\n</template>\\n\\n<script>\\n\\timport {FirebaseService} from \\\"../services/FirebaseService\\\";\\n\\timport * as localForage from \\\"localforage\\\";\\n\\n\\texport default {\\n\\t\\tname: \\\"Update\\\",\\n\\t\\tdata()\\n\\t\\t{\\n\\t\\t\\treturn {\\n\\t\\t\\t\\tservice_worker: null,\\n\\t\\t\\t\\tnewWorker: null,\\n\\t\\t\\t\\tpageTitle: \\\"Update\\\",\\n\\t\\t\\t\\tswName: \\\"sw.js\\\",\\n\\t\\t\\t\\tlf: null,\\n\\t\\t\\t\\tfirebaseToken: null,\\n\\t\\t\\t\\tupdate: false,\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\tcomputed: {},\\n\\t\\tcreated()\\n\\t\\t{\\n\\t\\t\\tconsole.log(\\\"Creating Update, \\\", window.location.pathname);\\n\\t\\t\\tthis.install_sw();\\n\\t\\t\\t// this.lf = localForage.createInstance({name: \\\"lf\\\"});\\n\\t\\t\\t// this.lf.getItem(\\\"token\\\")\\n\\t\\t\\t//     .then((token) =>\\n\\t\\t\\t//           {\\n\\t\\t\\t// \\t          this.firebaseToken = token;\\n\\t\\t\\t//           })\\n\\t\\t\\t//     .catch(error => console.error(\\\"Error retrieving token from localStorage\\\"));\\n\\t\\t\\tsetTimeout(\\n\\t\\t\\t() =>\\n\\t\\t\\t{\\n\\t\\t\\t\\tlet img = document.createElement(\\\"img\\\");\\n\\t\\t\\t\\timg.src = \\\"/img/horse.png\\\";\\n\\t\\t\\t\\timg.style = \\\"max-width: 100%; max-height: 500px;\\\";\\n\\t\\t\\t\\tif (document.getElementById('imgElement'))\\n\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\tdocument.getElementById('imgElement')\\n\\t\\t\\t\\t\\t        .appendChild(img);\\n\\t\\t\\t\\t}\\n\\t\\t\\t}, 7000);\\n\\t\\t},\\n\\t\\tmethods:\\n\\t\\t{\\n\\t\\t\\tasync install_sw()\\n\\t\\t\\t{\\n\\t\\t\\t\\tconst pathName = window.location.pathname;\\n\\t\\t\\t\\t// console.log(pathName);\\n\\t\\t\\t\\tif (pathName === '/')\\n\\t\\t\\t\\t\\treturn;\\n\\n\\t\\t\\t\\tif (pathName === '/update-without-skip-and-claim')\\n\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\tthis.pageTitle = \\\"Default update\\\";\\n\\t\\t\\t\\t\\tlet key = await this.lf.getItem(\\\"default-sw-update\\\");\\n\\t\\t\\t\\t\\tif (key === 1 || key == null)\\n                    {\\n\\t\\t\\t\\t\\t    this.swName = '/sw-without-skip-and-claim.js';\\n\\t\\t\\t\\t\\t    this.lf.setItem(\\\"default-sw-update\\\", 1)\\n\\n                    }\\n\\t\\t\\t\\t\\telse\\n                    {\\n\\t                    this.swName = '/sw-without-skip-and-claim-2.js';\\n\\t                    this.lf.setItem(\\\"default-sw-update\\\", 2)\\n                    }\\n\\t\\t\\t\\t} else if (pathName === '/update-with-skip-no-claim')\\n\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\tthis.pageTitle = \\\"Forced update\\\";\\n\\t\\t\\t\\t\\tthis.swName = '/sw-with-skip-no-claim.js';\\n\\t\\t\\t\\t} else if (pathName === '/update-with-skip-and-claim')\\n\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\tthis.pageTitle = \\\"Forced update with immediate control\\\";\\n\\t\\t\\t\\t\\tthis.swName = '/sw-with-skip-and-claim.js';\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// window.addEventListener(\\n\\t\\t\\t\\t// 'load',\\n\\t\\t\\t\\t// async () =>\\n\\t\\t\\t\\t// {\\n\\t\\t\\t\\t// \\tconsole.log(\\\"WINDOW LOADED\\\");\\n\\t\\t\\t\\t\\tnavigator\\n\\t\\t\\t\\t\\t.serviceWorker\\n\\t\\t\\t\\t\\t.register(this.swName, {scope: pathName})\\n\\t\\t\\t\\t\\t.then((registration) =>\\n\\t\\t\\t\\t\\t      {\\n\\t\\t\\t\\t\\t\\t      this.registration = registration;\\n\\t\\t\\t\\t\\t\\t      // this.registration.addEventListener(\\n\\t\\t\\t\\t\\t\\t      // 'updatefound',\\n\\t\\t\\t\\t\\t\\t      // () =>\\n\\t\\t\\t\\t\\t\\t      // {\\n\\t\\t\\t\\t\\t\\t\\t  //     console.log(\\\"UPDATEFOUND\\\");\\n                              //\\n                              //\\n\\t\\t\\t\\t\\t\\t      // });\\n\\t\\t\\t\\t\\t\\t\\t  //     this._updateListener();\\n\\t\\t\\t\\t\\t\\t      // console.log('SW UPDATE_DEMO OK: ', registration.scope);\\n\\t\\t\\t\\t\\t      },\\n\\t\\t\\t\\t\\t      (err) => { console.log('SW UPDATE_DEMO FAILED: ', err); })\\n\\t\\t\\t\\t\\t// .then(() =>\\n\\t\\t\\t\\t\\t//       {\\n\\t\\t\\t\\t\\t// \\t      console.log('SW READY', pathName);\\n\\t\\t\\t\\t\\t// \\t      this.service_worker = navigator.serviceWorker;\\n\\t\\t\\t\\t\\t// \\t      return navigator.serviceWorker.ready;\\n\\t\\t\\t\\t\\t//       });\\n\\n\\t\\t\\t\\t// });\\n\\t\\t\\t},\\n\\t\\t\\t_notifyUpdate()\\n\\t\\t\\t{\\n\\t\\t\\t\\t// let payload = {\\n\\t\\t\\t\\t//     \\\"to\\\": this.firebaseToken,\\n\\t\\t\\t\\t//     \\\"collapse_key\\\": \\\"type_a\\\",\\n\\t\\t\\t\\t//     \\\"notification\\\":\\n\\t\\t\\t\\t//     {\\n\\t\\t\\t\\t//         \\\"title\\\": \\\"Update available\\\",\\n\\t\\t\\t\\t//         \\\"body\\\": \\\"Update available\\\",\\n\\t\\t\\t\\t//         \\\"icon\\\": \\\"/images/icons/icon-72x72.png\\\",\\n\\t\\t\\t\\t//         \\\"click_action\\\": \\\"/\\\"\\n\\t\\t\\t\\t//     },\\n\\t\\t\\t\\t//     \\\"data\\\":\\n\\t\\t\\t\\t//     {\\n\\t\\t\\t\\t//         \\\"shown\\\": false\\n\\t\\t\\t\\t//     }\\n\\t\\t\\t\\t// };\\n\\t\\t\\t\\t// FirebaseService.sendNotificationToSelf(payload)\\n\\t\\t\\t\\t// this.lf.getItem(\\\"token\\\")\\n\\t\\t\\t\\t//     .then((token) =>\\n\\t\\t\\t\\t//           {\\n\\t\\t\\t\\t//\\n\\t\\t\\t\\t//           })\\n\\t\\t\\t\\t//     .catch(error => console.error(\\\"Error retrieving token from localStorage\\\"));\\n\\t\\t\\t}\\n\\t\\t\\t,\\n\\t\\t\\t_updateListener()\\n\\t\\t\\t{\\n\\t\\t\\t\\tif (this.registration.waiting && this.registration.active)\\n\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\tthis.newWorker = this.registration.waiting;\\n\\t\\t\\t\\t\\tconsole.log(\\\"SW DETECTING UPDATE 1\\\");\\n\\t\\t\\t\\t\\t// this._notifyUpdate();\\n\\t\\t\\t\\t\\tthis.update = true;\\n\\t\\t\\t\\t} else\\n\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\tthis.registration.addEventListener(\\n\\t\\t\\t\\t\\t'updatefound',\\n\\t\\t\\t\\t\\t() =>\\n\\t\\t\\t\\t\\t{\\n\\n\\t\\t\\t\\t\\t\\tthis.newWorker = this.registration.installing;\\n\\n\\t\\t\\t\\t\\t\\tthis.newWorker\\n\\t\\t\\t\\t\\t\\t    .addEventListener(\\n\\t\\t\\t\\t\\t\\t    'statechange',\\n\\t\\t\\t\\t\\t\\t    () =>\\n\\t\\t\\t\\t\\t\\t    {\\n\\t\\t\\t\\t\\t\\t\\t    // Has service worker state changed?\\n\\t\\t\\t\\t\\t\\t\\t    switch (this.newWorker.state)\\n\\t\\t\\t\\t\\t\\t\\t    {\\n\\t\\t\\t\\t\\t\\t\\t\\t    case 'installed':\\n\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t    // There is a new service worker available, show the\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t    // notification\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t    if (navigator.serviceWorker.controller)\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t    {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t    console.log(\\\"SW DETECTING UPDATE 2\\\");\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t    // this._notifyUpdate();\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t    this.update = true;\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t    }\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t    break;\\n\\t\\t\\t\\t\\t\\t\\t    }\\n\\t\\t\\t\\t\\t\\t    });\\n\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t\\t,\\n\\t\\t\\tunregister_sw()\\n\\t\\t\\t{\\n\\t\\t\\t\\tthis.registration.unregister()\\n\\t\\t\\t\\t    .then(() =>\\n\\t\\t\\t\\t          {\\n\\t\\t\\t\\t\\t          console.log(\\\"Unregister\\\");\\n\\t\\t\\t\\t          });\\n\\t\\t\\t}\\n\\t\\t\\t,\\n\\t\\t\\trequest_from_sw()\\n\\t\\t\\t{\\n\\t\\t\\t\\tconst pathName = window.location.pathname;\\n                this.registration.update();\\n\\t\\t\\t\\tlet request = new Request(`https://pwa.local:8080/${this.swName}`);\\n\\t\\t\\t\\tconst requestOptions = {method: 'GET'};\\n\\t\\t\\t\\treturn fetch(request, requestOptions)\\n\\t\\t\\t\\t.then((response) =>\\n\\t\\t\\t\\t      {\\n\\t\\t\\t\\t\\t      navigator\\n\\t\\t\\t\\t\\t      .serviceWorker\\n\\t\\t\\t\\t\\t      .register(this.swName, {scope: pathName})\\n\\t\\t\\t\\t\\t      .then((registration) =>\\n\\t\\t\\t\\t\\t            {\\n\\t\\t\\t\\t\\t\\t            this.registration = registration;\\n\\t\\t\\t\\t\\t            },\\n\\t\\t\\t\\t\\t            (err) => { console.log('SW UPDATE_DEMO FAILED: ', err); })\\n\\t\\t\\t\\t\\t      .then(() =>\\n\\t\\t\\t\\t\\t            {\\n\\t\\t\\t\\t\\t\\t            this.service_worker = navigator.serviceWorker;\\n\\t\\t\\t\\t\\t\\t            return navigator.serviceWorker.ready;\\n\\t\\t\\t\\t\\t            });\\n\\t\\t\\t\\t\\t      return response;\\n\\t\\t\\t\\t\\t      // return {\\n\\t\\t\\t\\t\\t      //     request: request,\\n\\t\\t\\t\\t\\t      //     response: response\\n\\t\\t\\t\\t\\t      // };\\n\\t\\t\\t\\t      })\\n\\t\\t\\t\\t.catch(error =>\\n\\t\\t\\t\\t       {\\n\\t\\t\\t\\t\\t       console.error(error);\\n\\t\\t\\t\\t\\t       console.error(JSON.stringify(error));\\n\\t\\t\\t\\t\\t       return {\\n\\t\\t\\t\\t\\t\\t       request: request,\\n\\t\\t\\t\\t\\t\\t       response: response\\n\\t\\t\\t\\t\\t       };\\n\\t\\t\\t\\t       });\\n\\n\\t\\t\\t\\t// window.location.reload();\\n\\n\\n\\t\\t\\t}\\n\\t\\t\\t,\\n\\t\\t\\tsend_new_sw()\\n\\t\\t\\t{\\n\\t\\t\\t\\tthis.$emit('updateRequest');\\n\\t\\t\\t\\t// this.newWorker.postMessage({action: 'skipWaiting'});\\n\\t\\t\\t}\\n\\t\\t\\t,_navigateTo(url)\\n\\t\\t\\t{\\n\\t\\t\\t\\twindow.location = url;\\n\\t\\t\\t},\\n\\t\\t}\\n\\t}\\n</script>\\n\\n<style scoped>\\n\\n</style>\\n\",\"import mod from \\\"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Update.vue?vue&type=script&lang=js&\\\"; export default mod; export * from \\\"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Update.vue?vue&type=script&lang=js&\\\"\",\"import { render, staticRenderFns } from \\\"./Update.vue?vue&type=template&id=145f53f0&scoped=true&\\\"\\nimport script from \\\"./Update.vue?vue&type=script&lang=js&\\\"\\nexport * from \\\"./Update.vue?vue&type=script&lang=js&\\\"\\n\\n\\n/* normalize component */\\nimport normalizer from \\\"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\\\"\\nvar component = normalizer(\\n  script,\\n  render,\\n  staticRenderFns,\\n  false,\\n  null,\\n  \\\"145f53f0\\\",\\n  null\\n  \\n)\\n\\nexport default component.exports\"]}","code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"update\"],{\"2e8c\":function(e,t,n){\"use strict\";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"div\",[n(\"h1\",[e._v(e._s(e.pageTitle))]),n(\"h2\",[e._v(\"Update available: \"+e._s(e.update))]),n(\"a\",{on:{click:function(t){return e.request_from_sw()}}},[e._v(\"REQUEST\\n    \")]),n(\"br\"),n(\"a\",{on:{click:function(t){return e.unregister_sw()}}},[e._v(\"UNREGISTER\\n    \")]),e._m(0)])},a=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"div\",{staticStyle:{display:\"block\"}},[n(\"img\",{staticStyle:{display:\"inline-block\",\"max-height\":\"500px\",\"max-width\":\"50%\"},attrs:{src:\"/img/horse.png\"}}),n(\"div\",{staticStyle:{display:\"inline-block\",\"max-height\":\"500px\",\"max-width\":\"50%\"},attrs:{id:\"imgElement\"}})])}],r=n(\"f499\"),s=n.n(r),o=(n(\"96cf\"),n(\"3b8d\")),c=(n(\"28ba\"),n(\"a002\"),{name:\"Update\",data:function(){return{service_worker:null,newWorker:null,pageTitle:\"Update\",swName:\"sw.js\",lf:null,firebaseToken:null,update:!1}},computed:{},created:function(){console.log(\"Creating Update, \",window.location.pathname),this.install_sw(),setTimeout(function(){var e=document.createElement(\"img\");e.src=\"/img/horse.png\",e.style=\"max-width: 100%; max-height: 500px;\",document.getElementById(\"imgElement\")&&document.getElementById(\"imgElement\").appendChild(e)},7e3)},methods:{install_sw:function(){var e=Object(o[\"a\"])(regeneratorRuntime.mark(function e(){var t,n,i=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=window.location.pathname,\"/\"!==t){e.next=3;break}return e.abrupt(\"return\");case 3:if(\"/update-without-skip-and-claim\"!==t){e.next=11;break}return this.pageTitle=\"Default update\",e.next=7,this.lf.getItem(\"default-sw-update\");case 7:n=e.sent,1===n||null==n?(this.swName=\"/sw-without-skip-and-claim.js\",this.lf.setItem(\"default-sw-update\",1)):(this.swName=\"/sw-without-skip-and-claim-2.js\",this.lf.setItem(\"default-sw-update\",2)),e.next=12;break;case 11:\"/update-with-skip-no-claim\"===t?(this.pageTitle=\"Forced update\",this.swName=\"/sw-with-skip-no-claim.js\"):\"/update-with-skip-and-claim\"===t&&(this.pageTitle=\"Forced update with immediate control\",this.swName=\"/sw-with-skip-and-claim.js\");case 12:navigator.serviceWorker.register(this.swName,{scope:t}).then(function(e){i.registration=e},function(e){console.log(\"SW UPDATE_DEMO FAILED: \",e)});case 13:case\"end\":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),_notifyUpdate:function(){},_updateListener:function(){var e=this;this.registration.waiting&&this.registration.active?(this.newWorker=this.registration.waiting,console.log(\"SW DETECTING UPDATE 1\"),this.update=!0):this.registration.addEventListener(\"updatefound\",function(){e.newWorker=e.registration.installing,e.newWorker.addEventListener(\"statechange\",function(){switch(e.newWorker.state){case\"installed\":navigator.serviceWorker.controller&&(console.log(\"SW DETECTING UPDATE 2\"),e.update=!0);break}})})},unregister_sw:function(){this.registration.unregister().then(function(){console.log(\"Unregister\")})},request_from_sw:function(){var e=this,t=window.location.pathname;this.registration.update();var n=new Request(\"https://pwa.local:8080/\".concat(this.swName)),i={method:\"GET\"};return fetch(n,i).then(function(n){return navigator.serviceWorker.register(e.swName,{scope:t}).then(function(t){e.registration=t},function(e){console.log(\"SW UPDATE_DEMO FAILED: \",e)}).then(function(){return e.service_worker=navigator.serviceWorker,navigator.serviceWorker.ready}),n}).catch(function(e){return console.error(e),console.error(s()(e)),{request:n,response:response}})},send_new_sw:function(){this.$emit(\"updateRequest\")},_navigateTo:function(e){window.location=e}}}),u=c,l=n(\"2877\"),d=Object(l[\"a\"])(u,i,a,!1,null,\"145f53f0\",null);t[\"default\"]=d.exports}}]);","extractedComments":[]}