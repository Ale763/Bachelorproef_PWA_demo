{"map":"{\"version\":3,\"sources\":[\"/Users/ale/Documents/Bachproef/pwa-3/node_modules/cache-loader/dist/cjs.js?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"432a83d8-vue-loader-template\\\"}!/Users/ale/Documents/Bachproef/pwa-3/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!/Users/ale/Documents/Bachproef/pwa-3/node_modules/vuetify-loader/lib/loader.js!/Users/ale/Documents/Bachproef/pwa-3/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/ale/Documents/Bachproef/pwa-3/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ale/Documents/Bachproef/pwa-3/src/views/Update.vue?vue&type=template&id=f8a72974&scoped=true&\",\"src/views/Update.vue\",\"/Users/ale/Documents/Bachproef/pwa-3/node_modules/vue-loader/lib/loaders/pitcher.js??ref--0!/Users/ale/Documents/Bachproef/pwa-3/node_modules/cache-loader/dist/cjs.js??ref--12-0!/Users/ale/Documents/Bachproef/pwa-3/node_modules/thread-loader/dist/cjs.js!/Users/ale/Documents/Bachproef/pwa-3/node_modules/babel-loader/lib/index.js!/Users/ale/Documents/Bachproef/pwa-3/node_modules/vuetify-loader/lib/loader.js!/Users/ale/Documents/Bachproef/pwa-3/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/ale/Documents/Bachproef/pwa-3/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ale/Documents/Bachproef/pwa-3/src/views/Update.vue?vue&type=script&lang=js&\",\"/Users/ale/Documents/Bachproef/pwa-3/node_modules/vuetify-loader/lib/loader.js!/Users/ale/Documents/Bachproef/pwa-3/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/ale/Documents/Bachproef/pwa-3/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ale/Documents/Bachproef/pwa-3/src/views/Update.vue\"],\"names\":[\"render\",\"_vm\",\"this\",\"_h\",\"$createElement\",\"_c\",\"_self\",\"staticStyle\",\"margin\",\"padding\",\"_v\",\"_s\",\"pageTitle\",\"text-align\",\"color\",\"padding-right\",\"_e\",\"update\",\"_m\",\"width\",\"attrs\",\"round\",\"dark\",\"on\",\"click\",\"$event\",\"toggleSW\",\"unregister_sw\",\"staticRenderFns\",\"display\",\"height\",\"max-width\",\"src\",\"id\",\"Updatevue_type_script_lang_js_\",\"name\",\"data\",\"service_worker\",\"newWorker\",\"swName\",\"lf\",\"firebaseToken\",\"computed\",\"created\",\"_created\",\"Object\",\"asyncToGenerator\",\"regeneratorRuntime\",\"mark\",\"_callee\",\"key\",\"wrap\",\"_context\",\"prev\",\"next\",\"console\",\"log\",\"window\",\"location\",\"pathname\",\"localforage\",\"sent\",\"getItem\",\"setItem\",\"install_sw\",\"setTimeout\",\"img\",\"document\",\"createElement\",\"style\",\"getElementById\",\"appendChild\",\"stop\",\"apply\",\"arguments\",\"methods\",\"_install_sw\",\"_callee2\",\"pathName\",\"_this\",\"_context2\",\"abrupt\",\"navigator\",\"serviceWorker\",\"register\",\"scope\",\"then\",\"registration\",\"_updateListener\",\"err\",\"_this2\",\"waiting\",\"active\",\"addEventListener\",\"installing\",\"state\",\"controller\",\"unregister\",\"_toggleSW\",\"_callee3\",\"_context3\",\"request_from_sw\",\"_this3\",\"request\",\"Request\",\"concat\",\"requestOptions\",\"method\",\"fetch\",\"response\",\"ready\",\"catch\",\"error\",\"stringify_default\",\"send_new_sw\",\"$emit\",\"_navigateTo\",\"url\",\"views_Updatevue_type_script_lang_js_\",\"component\",\"componentNormalizer\",\"__webpack_exports__\",\"installComponents_default\",\"VBtn\",\"VIcon\"],\"mappings\":\"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\",\"sourcesContent\":[\"var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\\\"margin\\\":\\\"0 auto\\\",\\\"padding\\\":\\\"1rem\\\"}},[_c('h1',[_vm._v(_vm._s(_vm.pageTitle))]),_c('h2',{staticStyle:{\\\"text-align\\\":\\\"right\\\"}},[(_vm.update)?_c('div',{staticStyle:{\\\"color\\\":\\\"dodgerblue\\\"}},[_c('v-icon',{staticStyle:{\\\"color\\\":\\\"dodgerblue\\\",\\\"padding-right\\\":\\\"1rem\\\"}},[_vm._v(\\\"update\\\\n        \\\")]),_vm._v(\\\"Update\\\\n                                                                                                     available\\\")],1):_vm._e(),(!_vm.update)?_c('div',{},[_c('v-icon',{staticStyle:{\\\"padding-right\\\":\\\"1rem\\\"}},[_vm._v(\\\"update\\\")]),_vm._v(\\\"No update available\\\")],1):_vm._e()]),_vm._m(0),_c('div',{staticStyle:{\\\"width\\\":\\\"100%\\\",\\\"text-align\\\":\\\"center\\\"}},[_c('v-btn',{attrs:{\\\"round\\\":\\\"\\\",\\\"dark\\\":\\\"\\\",\\\"color\\\":\\\"teal\\\"},on:{\\\"click\\\":function($event){return _vm.toggleSW()}}},[_vm._v(\\\"Update SW\\\\n        \\\")]),_c('v-btn',{attrs:{\\\"round\\\":\\\"\\\",\\\"dark\\\":\\\"\\\",\\\"color\\\":\\\"teal\\\"},on:{\\\"click\\\":function($event){return _vm.unregister_sw()}}},[_vm._v(\\\"Unregister SW\\\\n        \\\")])],1)])}\\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\\\"display\\\":\\\"block\\\",\\\"text-align\\\":\\\"center\\\"}},[_c('img',{staticStyle:{\\\"display\\\":\\\"block\\\",\\\"height\\\":\\\"250px\\\",\\\"max-width\\\":\\\"100%\\\",\\\"margin\\\":\\\"0 auto\\\"},attrs:{\\\"src\\\":\\\"/img/horse.png\\\"}}),_c('div',{staticStyle:{\\\"display\\\":\\\"block\\\",\\\"height\\\":\\\"250px\\\",\\\"max-width\\\":\\\"100%\\\"},attrs:{\\\"id\\\":\\\"imgElement\\\"}})])}]\\n\\nexport { render, staticRenderFns }\",\"<template>\\n    <div style=\\\"margin: 0 auto; padding: 1rem;\\\">\\n        <h1>{{ pageTitle }}</h1>\\n\\n        <h2 style=\\\"text-align: right\\\">\\n            <div v-if=\\\"update\\\" style=\\\"color: dodgerblue;\\\"><v-icon\\n                                                                  style=\\\"color: dodgerblue;padding-right: 1rem;\\\">update\\n            </v-icon>Update\\n                                                                                                         available</div>\\n            <div v-if=\\\"!update\\\" style=\\\"\\\"><v-icon style=\\\"padding-right: 1rem;\\\">update</v-icon>No update available</div>\\n        </h2>\\n\\n        <!--        <a style=\\\"\\\"-->\\n        <!--           v-on:click=\\\"toggleSW()\\\">Change SW-->\\n        <!--        </a>-->\\n        <!--        <a style=\\\"\\\"-->\\n        <!--           v-on:click=\\\"unregister_sw()\\\">UNREGISTER-->\\n        <!--        </a>-->\\n        <div style=\\\"display:block;text-align: center\\\">\\n\\n            <img src=\\\"/img/horse.png\\\"\\n                 style=\\\"display:block; height: 250px; max-width: 100%; margin: 0 auto\\\">\\n            <div id=\\\"imgElement\\\"\\n                 style=\\\"display:block; height: 250px; max-width: 100%;\\\"></div>\\n        </div>\\n        <div style=\\\"width: 100%;text-align: center;\\\">\\n\\n            <v-btn round\\n                   dark\\n                   color=\\\"teal\\\"\\n                   v-on:click=\\\"toggleSW()\\\">Update SW\\n            </v-btn>\\n            <v-btn round\\n                   dark\\n                   color=\\\"teal\\\"\\n                   v-on:click=\\\"unregister_sw()\\\">Unregister SW\\n            </v-btn>\\n        </div>\\n    </div>\\n</template>\\n\\n<script>\\n\\timport {FirebaseService} from \\\"../services/FirebaseService\\\";\\n\\timport * as localForage from \\\"localforage\\\";\\n\\n\\texport default {\\n\\t\\tname: \\\"Update\\\",\\n\\t\\tdata()\\n\\t\\t{\\n\\t\\t\\treturn {\\n\\t\\t\\t\\tservice_worker: null,\\n\\t\\t\\t\\tnewWorker: null,\\n\\t\\t\\t\\tpageTitle: \\\"Update\\\",\\n\\t\\t\\t\\tswName: \\\"sw.js\\\",\\n\\t\\t\\t\\tlf: null,\\n\\t\\t\\t\\tfirebaseToken: null,\\n\\t\\t\\t\\tupdate: false,\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\tcomputed: {},\\n\\t\\tasync created()\\n\\t\\t{\\n\\t\\t\\tconsole.log(\\\"Creating Update, \\\", window.location.pathname);\\n\\t\\t\\tthis.lf = await localForage.createInstance({name: \\\"lf\\\"});\\n\\t\\t\\tlet key = await this.lf.getItem(\\\"VersionSW\\\");\\n\\t\\t\\tif (key == null)\\n\\t\\t\\t\\tthis.lf.setItem('VersionSW', 0);\\n\\t\\t\\tthis.install_sw();\\n\\t\\t\\tsetTimeout(\\n\\t\\t\\t() =>\\n\\t\\t\\t{\\n\\t\\t\\t\\tlet img = document.createElement(\\\"img\\\");\\n\\t\\t\\t\\timg.src = \\\"/img/horse.png\\\";\\n\\t\\t\\t\\timg.style = \\\"max-width: 100%; height: 250px;\\\";\\n\\t\\t\\t\\tif (document.getElementById('imgElement'))\\n\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\tdocument.getElementById('imgElement')\\n\\t\\t\\t\\t\\t        .appendChild(img);\\n\\t\\t\\t\\t}\\n\\t\\t\\t}, 2500);\\n\\t\\t},\\n\\t\\tmethods:\\n\\t\\t{\\n\\t\\t\\tasync install_sw()\\n\\t\\t\\t{\\n\\t\\t\\t\\tconst pathName = window.location.pathname;\\n\\t\\t\\t\\t// console.log(pathName);\\n\\t\\t\\t\\tif (pathName === '/')\\n\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\tlet key = await this.lf.getItem(\\\"VersionSW\\\");\\n\\t\\t\\t\\tif (key == null)\\n\\t\\t\\t\\t\\tkey = 0;\\n\\n\\t\\t\\t\\tif (pathName === '/update-without-skip-and-claim')\\n\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\tthis.pageTitle = \\\"Default update\\\";\\n\\n\\t\\t\\t\\t\\tif (key === 0)\\n\\t\\t\\t\\t\\t\\tthis.swName = '/sw-without-skip-and-claim.js';\\n\\t\\t\\t\\t\\telse\\n\\t\\t\\t\\t\\t\\tthis.swName = '/sw-without-skip-and-claim-2.js';\\n\\t\\t\\t\\t} else if (pathName === '/update-with-skip-no-claim')\\n\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\tthis.pageTitle = \\\"Forced update\\\";\\n\\t\\t\\t\\t\\tif (key === 0)\\n\\t\\t\\t\\t\\t\\tthis.swName = '/sw-with-skip-no-claim.js';\\n\\t\\t\\t\\t\\telse\\n\\t\\t\\t\\t\\t\\tthis.swName = '/sw-with-skip-no-claim-2.js';\\n\\n\\t\\t\\t\\t} else if (pathName === '/update-with-skip-and-claim')\\n\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\tthis.pageTitle = \\\"Forced update & immediate control\\\";\\n\\t\\t\\t\\t\\tif (key === 0)\\n\\t\\t\\t\\t\\t\\tthis.swName = '/sw-with-skip-and-claim.js';\\n\\t\\t\\t\\t\\telse\\n\\t\\t\\t\\t\\t\\tthis.swName = '/sw-with-skip-and-claim-2.js';\\n\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tnavigator\\n\\t\\t\\t\\t.serviceWorker\\n\\t\\t\\t\\t.register(this.swName, {scope: pathName})\\n\\t\\t\\t\\t.then((registration) =>\\n\\t\\t\\t\\t      {\\n\\t\\t\\t\\t\\t      this.registration = registration;\\n\\t\\t\\t\\t\\t      this._updateListener();\\n\\t\\t\\t\\t      },\\n\\t\\t\\t\\t      (err) => { console.log('SW UPDATE_DEMO FAILED: ', err); })\\n\\n\\t\\t\\t},\\n\\t\\t\\t_updateListener()\\n\\t\\t\\t{\\n\\t\\t\\t\\tif (this.registration.waiting && this.registration.active)\\n\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\tthis.newWorker = this.registration.waiting;\\n\\t\\t\\t\\t\\t// console.log(\\\"SW DETECTING UPDATE 1\\\");\\n\\t\\t\\t\\t\\t// this._notifyUpdate();\\n\\t\\t\\t\\t\\t// this.update = true;\\n\\t\\t\\t\\t} else\\n\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\tthis.registration.addEventListener(\\n\\t\\t\\t\\t\\t'updatefound',\\n\\t\\t\\t\\t\\t() =>\\n\\t\\t\\t\\t\\t{\\n\\n\\t\\t\\t\\t\\t\\tthis.newWorker = this.registration.installing;\\n\\n\\t\\t\\t\\t\\t\\tthis.newWorker\\n\\t\\t\\t\\t\\t\\t    .addEventListener(\\n\\t\\t\\t\\t\\t\\t    'statechange',\\n\\t\\t\\t\\t\\t\\t    () =>\\n\\t\\t\\t\\t\\t\\t    {\\n\\t\\t\\t\\t\\t\\t\\t    // Has service worker state changed?\\n\\t\\t\\t\\t\\t\\t\\t    switch (this.newWorker.state)\\n\\t\\t\\t\\t\\t\\t\\t    {\\n\\t\\t\\t\\t\\t\\t\\t\\t    case 'installed':\\n\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t    // There is a new service worker available, show the\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t    // notification\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t    if (navigator.serviceWorker.controller)\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t    {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t    console.log(\\\"SW DETECTING UPDATE 2\\\");\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t    // this._notifyUpdate();\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t    this.update = true;\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t    }\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t    break;\\n\\t\\t\\t\\t\\t\\t\\t\\t    case 'activated':\\n\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t    // There is a new service worker available, show the\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t    // notification\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t    if (navigator.serviceWorker.controller)\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t    {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t    console.log(\\\"SW ACTIVATED\\\");\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t    setTimeout(\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t    () =>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t    {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t    this.update = false;\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t    }, 2500);\\n\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t    }\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t    break;\\n\\t\\t\\t\\t\\t\\t\\t    }\\n\\t\\t\\t\\t\\t\\t    });\\n\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t\\t,\\n\\t\\t\\tunregister_sw()\\n\\t\\t\\t{\\n\\t\\t\\t\\tthis.registration.unregister()\\n\\t\\t\\t\\t    .then(() =>\\n\\t\\t\\t\\t          {\\n\\t\\t\\t\\t\\t          console.log(\\\"Unregister\\\");\\n\\t\\t\\t\\t          });\\n\\t\\t\\t},\\n\\t\\t\\tasync toggleSW()\\n\\t\\t\\t{\\n\\t\\t\\t\\tthis.lf.setItem(\\\"UAV\\\", true);\\n\\t\\t\\t\\tlet key = await this.lf.getItem(\\\"VersionSW\\\");\\n\\t\\t\\t\\tif (key === 1 || key == null)\\n\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\tthis.lf.setItem(\\\"VersionSW\\\", 0)\\n\\n\\t\\t\\t\\t} else\\n\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\tthis.lf.setItem(\\\"VersionSW\\\", 1)\\n\\t\\t\\t\\t}\\n\\t\\t\\t},\\n\\t\\t\\trequest_from_sw()\\n\\t\\t\\t{\\n\\t\\t\\t\\tconst pathName = window.location.pathname;\\n\\t\\t\\t\\tthis.registration.update();\\n\\t\\t\\t\\tlet request = new Request(`https://pwa.local:8080/${this.swName}`);\\n\\t\\t\\t\\tconst requestOptions = {method: 'GET'};\\n\\t\\t\\t\\treturn fetch(request, requestOptions)\\n\\t\\t\\t\\t.then((response) =>\\n\\t\\t\\t\\t      {\\n\\t\\t\\t\\t\\t      navigator\\n\\t\\t\\t\\t\\t      .serviceWorker\\n\\t\\t\\t\\t\\t      .register(this.swName, {scope: pathName})\\n\\t\\t\\t\\t\\t      .then((registration) =>\\n\\t\\t\\t\\t\\t            {\\n\\t\\t\\t\\t\\t\\t            this.registration = registration;\\n\\t\\t\\t\\t\\t            },\\n\\t\\t\\t\\t\\t            (err) => { console.log('SW UPDATE_DEMO FAILED: ', err); })\\n\\t\\t\\t\\t\\t      .then(() =>\\n\\t\\t\\t\\t\\t            {\\n\\t\\t\\t\\t\\t\\t            this.service_worker = navigator.serviceWorker;\\n\\t\\t\\t\\t\\t\\t            return navigator.serviceWorker.ready;\\n\\t\\t\\t\\t\\t            });\\n\\t\\t\\t\\t\\t      return response;\\n\\t\\t\\t\\t\\t      // return {\\n\\t\\t\\t\\t\\t      //     request: request,\\n\\t\\t\\t\\t\\t      //     response: response\\n\\t\\t\\t\\t\\t      // };\\n\\t\\t\\t\\t      })\\n\\t\\t\\t\\t.catch(error =>\\n\\t\\t\\t\\t       {\\n\\t\\t\\t\\t\\t       console.error(error);\\n\\t\\t\\t\\t\\t       console.error(JSON.stringify(error));\\n\\t\\t\\t\\t\\t       return {\\n\\t\\t\\t\\t\\t\\t       request: request,\\n\\t\\t\\t\\t\\t\\t       response: response\\n\\t\\t\\t\\t\\t       };\\n\\t\\t\\t\\t       });\\n\\n\\t\\t\\t\\t// window.location.reload();\\n\\n\\n\\t\\t\\t}\\n\\t\\t\\t,\\n\\t\\t\\tsend_new_sw()\\n\\t\\t\\t{\\n\\t\\t\\t\\tthis.$emit('updateRequest');\\n\\t\\t\\t\\t// this.newWorker.postMessage({action: 'skipWaiting'});\\n\\t\\t\\t}\\n\\t\\t\\t, _navigateTo(url)\\n\\t\\t\\t{\\n\\t\\t\\t\\twindow.location = url;\\n\\t\\t\\t},\\n\\t\\t}\\n\\t}\\n</script>\\n\\n<style scoped>\\n\\n</style>\\n\",\"import mod from \\\"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Update.vue?vue&type=script&lang=js&\\\"; export default mod; export * from \\\"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Update.vue?vue&type=script&lang=js&\\\"\",\"import { render, staticRenderFns } from \\\"./Update.vue?vue&type=template&id=f8a72974&scoped=true&\\\"\\nimport script from \\\"./Update.vue?vue&type=script&lang=js&\\\"\\nexport * from \\\"./Update.vue?vue&type=script&lang=js&\\\"\\n\\n\\n/* normalize component */\\nimport normalizer from \\\"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\\\"\\nvar component = normalizer(\\n  script,\\n  render,\\n  staticRenderFns,\\n  false,\\n  null,\\n  \\\"f8a72974\\\",\\n  null\\n  \\n)\\n\\nexport default component.exports\\n\\n/* vuetify-loader */\\nimport installComponents from \\\"!/Users/ale/Documents/Bachproef/pwa-3/node_modules/vuetify-loader/lib/runtime/installComponents.js\\\"\\nimport { VBtn } from 'vuetify/lib'\\nimport { VIcon } from 'vuetify/lib'\\ninstallComponents(component, {VBtn,VIcon})\\n\"]}","code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"update\"],{\"2e8c\":function(e,t,n){\"use strict\";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"div\",{staticStyle:{margin:\"0 auto\",padding:\"1rem\"}},[n(\"h1\",[e._v(e._s(e.pageTitle))]),n(\"h2\",{staticStyle:{\"text-align\":\"right\"}},[e.update?n(\"div\",{staticStyle:{color:\"dodgerblue\"}},[n(\"v-icon\",{staticStyle:{color:\"dodgerblue\",\"padding-right\":\"1rem\"}},[e._v(\"update\\n        \")]),e._v(\"Update\\n                                                                                                     available\")],1):e._e(),e.update?e._e():n(\"div\",{},[n(\"v-icon\",{staticStyle:{\"padding-right\":\"1rem\"}},[e._v(\"update\")]),e._v(\"No update available\")],1)]),e._m(0),n(\"div\",{staticStyle:{width:\"100%\",\"text-align\":\"center\"}},[n(\"v-btn\",{attrs:{round:\"\",dark:\"\",color:\"teal\"},on:{click:function(t){return e.toggleSW()}}},[e._v(\"Update SW\\n        \")]),n(\"v-btn\",{attrs:{round:\"\",dark:\"\",color:\"teal\"},on:{click:function(t){return e.unregister_sw()}}},[e._v(\"Unregister SW\\n        \")])],1)])},r=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"div\",{staticStyle:{display:\"block\",\"text-align\":\"center\"}},[n(\"img\",{staticStyle:{display:\"block\",height:\"250px\",\"max-width\":\"100%\",margin:\"0 auto\"},attrs:{src:\"/img/horse.png\"}}),n(\"div\",{staticStyle:{display:\"block\",height:\"250px\",\"max-width\":\"100%\"},attrs:{id:\"imgElement\"}})])}],a=n(\"f499\"),s=n.n(a),o=(n(\"96cf\"),n(\"3b8d\")),c=(n(\"28ba\"),n(\"a002\")),l={name:\"Update\",data:function(){return{service_worker:null,newWorker:null,pageTitle:\"Update\",swName:\"sw.js\",lf:null,firebaseToken:null,update:!1}},computed:{},created:function(){var e=Object(o[\"a\"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return console.log(\"Creating Update, \",window.location.pathname),e.next=3,c[\"createInstance\"]({name:\"lf\"});case 3:return this.lf=e.sent,e.next=6,this.lf.getItem(\"VersionSW\");case 6:t=e.sent,null==t&&this.lf.setItem(\"VersionSW\",0),this.install_sw(),setTimeout(function(){var e=document.createElement(\"img\");e.src=\"/img/horse.png\",e.style=\"max-width: 100%; height: 250px;\",document.getElementById(\"imgElement\")&&document.getElementById(\"imgElement\").appendChild(e)},2500);case 10:case\"end\":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),methods:{install_sw:function(){var e=Object(o[\"a\"])(regeneratorRuntime.mark(function e(){var t,n,i=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=window.location.pathname,\"/\"!==t){e.next=3;break}return e.abrupt(\"return\");case 3:return e.next=5,this.lf.getItem(\"VersionSW\");case 5:n=e.sent,null==n&&(n=0),\"/update-without-skip-and-claim\"===t?(this.pageTitle=\"Default update\",this.swName=0===n?\"/sw-without-skip-and-claim.js\":\"/sw-without-skip-and-claim-2.js\"):\"/update-with-skip-no-claim\"===t?(this.pageTitle=\"Forced update\",this.swName=0===n?\"/sw-with-skip-no-claim.js\":\"/sw-with-skip-no-claim-2.js\"):\"/update-with-skip-and-claim\"===t&&(this.pageTitle=\"Forced update & immediate control\",this.swName=0===n?\"/sw-with-skip-and-claim.js\":\"/sw-with-skip-and-claim-2.js\"),navigator.serviceWorker.register(this.swName,{scope:t}).then(function(e){i.registration=e,i._updateListener()},function(e){console.log(\"SW UPDATE_DEMO FAILED: \",e)});case 9:case\"end\":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),_updateListener:function(){var e=this;this.registration.waiting&&this.registration.active?this.newWorker=this.registration.waiting:this.registration.addEventListener(\"updatefound\",function(){e.newWorker=e.registration.installing,e.newWorker.addEventListener(\"statechange\",function(){switch(e.newWorker.state){case\"installed\":navigator.serviceWorker.controller&&(console.log(\"SW DETECTING UPDATE 2\"),e.update=!0);break;case\"activated\":navigator.serviceWorker.controller&&(console.log(\"SW ACTIVATED\"),setTimeout(function(){e.update=!1},2500));break}})})},unregister_sw:function(){this.registration.unregister().then(function(){console.log(\"Unregister\")})},toggleSW:function(){var e=Object(o[\"a\"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.lf.setItem(\"UAV\",!0),e.next=3,this.lf.getItem(\"VersionSW\");case 3:t=e.sent,1===t||null==t?this.lf.setItem(\"VersionSW\",0):this.lf.setItem(\"VersionSW\",1);case 5:case\"end\":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),request_from_sw:function(){var e=this,t=window.location.pathname;this.registration.update();var n=new Request(\"https://pwa.local:8080/\".concat(this.swName)),i={method:\"GET\"};return fetch(n,i).then(function(n){return navigator.serviceWorker.register(e.swName,{scope:t}).then(function(t){e.registration=t},function(e){console.log(\"SW UPDATE_DEMO FAILED: \",e)}).then(function(){return e.service_worker=navigator.serviceWorker,navigator.serviceWorker.ready}),n}).catch(function(e){return console.error(e),console.error(s()(e)),{request:n,response:response}})},send_new_sw:function(){this.$emit(\"updateRequest\")},_navigateTo:function(e){window.location=e}}},u=l,d=n(\"2877\"),h=n(\"6544\"),p=n.n(h),g=n(\"8336\"),m=n(\"132d\"),w=Object(d[\"a\"])(u,i,r,!1,null,\"f8a72974\",null);t[\"default\"]=w.exports;p()(w,{VBtn:g[\"a\"],VIcon:m[\"a\"]})}}]);","extractedComments":[]}